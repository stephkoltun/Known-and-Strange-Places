var lists = [
  {
    'title': 'Blocks',
    'data': [
      "Start at any intersection.",
      "Walk the length of (2) blocks.",
      "Turn around, retrace your steps for (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn right and walk the length of (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn left and walk the length of (2) blocks.",
      "Turn right and walk the length of (1) block.",
      "Turn around, retrace your steps for (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn around, retrace your steps for (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn left and walk the length of (2) blocks.",
      "Turn left and walk the length of (2) blocks.",
      "Turn around, retrace your steps for (2) blocks.",
      "Turn left and walk the length of (1) block.",
      "Turn left and walk the length of (2) blocks.",
      "Turn around, retrace your steps for (2) blocks.",
      "Turn left and walk the length of (1) block.",
      "Turn left and walk the length of (1) block.",
      "Turn right and walk the length of (1) block.",
      "Turn right and walk the length of (1) block.",
      "Turn right and walk the length of (1) block."
    ]
  }, {
    'title': 'Paces',
    'data': [
      "Start in a wide and open area.",
      "Take 20 steps forward.",
      "Take 10 steps backward.",
      "Take 10 steps backward.",
      "Take 5 steps to the right.",
      "Take 20 steps forward.",
      "Take 5 steps to the right.",
      "Take 5 steps to the left.",
      "Take 10 steps backwards.",
      "Take 5 steps to the right.",
      "Take 5 steps to the left.",
      "Take 10 steps backwards.",
      "Take 10 steps to the right.",
      "Take 20 steps forward.",
      "Take 20 steps backward.",
      "Take 5 steps to the right.",
      "Take 20 steps forward.",
      "Take 20 steps backward.",
      "Take 5 steps to the right.",
      "Take 5 steps forward.",
      "Take 5 steps to the right.",
      "Take 5 steps backward.",
      "Take 5 steps to the left."
    ]
  }, {
    'title': 'Hand',
    'data': [
      "Start with your arm outstretched in front of you, at waist height. Keep it stretched in front of you for the entire instructions.",
      "Move your hand up to your head height and then back down to shoulder height.",
      "Move it left by a shoulder width.",
      "Move it down to waist height.",
      "Move it left by a shoulder width.",
      "Move it up to above your head.",
      "Move it left and then right by a shoulder width.",
      "Move it back down to shoulder height.",
      "Move it left and then right by a shoulder width.",
      "Move it back down to waist height.",
      "Move it left by a shoulder width.",
      "Move it up above your head, and then back down to waist height.",
      "Move it left by shoulder width.",
      "Move it up above your head, and then back down to waist height.",
      "Move it left by a shoulder width.",
      "Move it in a full circle, moving clockwise."
    ]
  }, {
    'title': 'Hand',
    'data': [
      "Start with your arm outstretched in front of you, at waist height. Keep it stretched in front of you for the entire instructions.",
      "Move your hand up to your head height and then back down to shoulder height.",
      "Move it left by a shoulder width.",
      "Move it down to waist height.",
      "Move it left by a shoulder width.",
      "Move it up to above your head.",
      "Move it left and then right by a shoulder width.",
      "Move it back down to shoulder height.",
      "Move it left and then right by a shoulder width.",
      "Move it back down to waist height.",
      "Move it left by a shoulder width.",
      "Move it up above your head, and then back down to waist height.",
      "Move it left by shoulder width.",
      "Move it up above your head, and then back down to waist height.",
      "Move it left by a shoulder width.",
      "Move it in a full circle, moving clockwise."
    ]
  }, {
    'title': 'GPS Coordinates',
    'data': [
      "40.772540, -73.976181",
      "40.771943, -73.976188",
      "40.772244, -73.976199",
      "40.772252, -73.975898",
      "40.772008, -73.975909",
      "40.772025, -73.975630",
      "40.772635, -73.975626",
      "40.772651, -73.975261",
      "40.772635, -73.975626",
      "40.772350, -73.975647",
      "40.772367, -73.975358",
      "40.772350, -73.975647",
      "40.772025, -73.975630",
      "40.772021, -73.974766",
      "40.772659, -73.974777",
      "40.772021, -73.974766",
      "40.772042, -73.974343",
      "40.772671, -73.974391",
      "40.772042, -73.974343",
      "40.772029, -73.973864",
      "40.772318, -73.973880",
      "40.772330, -73.973467",
      "40.772033, -73.973467",
      "40.772029, -73.973864"
    ]
  }, {
    'title': 'Addresses',
    'data': [
      "91 Forsyth St",
      "136 Forsyth St",
      "110 Forsyth St",
      "295 Broome St",
      "288 Grand St",
      "302 Grand St",
      "111 Allen St",
      "92 Orchard St",
      "111 Allen St",
      "278 Broome St",
      "256 Broome St",
      "278 Broome St",
      "302 Grand St",
      "63 Ludlow St",
      "95 Ludlow St",
      "63 Ludlow St",
      "60 Essex St",
      "80 Essex St",
      "60 Essex St",
      "50 Norfolk St",
      "212 Broome St",
      "194 Broome St",
      "400 Grand St",
      "50 Norfolk St"
    ]
  }, {
    'title': 'Mobile Phone',
    'data': [
      "Orient the phone in landscape orientation, with the screen facing up and level.",
      "Tilt it away from you for 12 seconds.",
      "Tilt it towards you for 6 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it down for 6 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it away from you for 12 seconds.",
      "Tilt it left for 3 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it towards you for 6 seconds.",
      "Tilt it left for 3 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it towards you for 6 seconds.",
      "Tilt it left for 6 seconds.",
      "Tilt it away from you for 12 seconds.",
      "Tilt it towards you for 12 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it away from you for 12 seconds.",
      "Tilt it towards you for 12 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it away from you for 3 seconds.",
      "Tilt it right for 3 seconds.",
      "Tilt it towards you for 3 seconds.",
      "Tilt it left for 3 seconds.",
      "Return it to a level position."
    ]
  }
];

var curItem = 0;
var curList = 0;
var addLinesInterval;
var timing = 1200;

var waiting = true;

var starter = setTimeout(function() {
  waiting = false;
  addLinesInterval = setInterval(addLine, timing);
}, 4000)


function addLine() {
  var thisList = lists[curList].data;
  var instruct = $("<li>" + thisList[curItem] + "</li>")

  $("#instructions").append(instruct);

  if (curItem < thisList.length-1) {
    curItem++;
  } else {
    curItem = 0;
    if (curList < lists.length-1) {
      curList++;
    } else {
      curList = 0;
    }

    clearInterval(addLinesInterval);

    console.log("wait");
    setTimeout(function() {
      console.log("start");
      $("#instructions").empty();
      $(".active").removeClass("active");
      $($("#nav li")[curList]).addClass("active");
      addLinesInterval = setInterval(addLine, timing);
    }, 2800);

  }
}

$('#nav li').click(function() {
  if (waiting) {
    clearTimeout(starter);
  }

  clearInterval(addLinesInterval);

  $(".active").removeClass("active");
  $(this).addClass("active");
  var index = parseInt($(this).data("index"));
  curList = index;
  curItem = 0;

  $("#instructions").empty();

  // add the first item
  addLine();
  // start the interval again
  addLinesInterval = setInterval(addLine, timing);
})
