<!DOCTYPE html>
<html>
<html lang="en">

<head>
  <title>Subway Stream</title>
  <link rel='stylesheet' href='style.css' type='text/css'>

  <link rel='stylesheet' href='../templateStyle.css' type='text/css'>
  <link href="https://fonts.googleapis.com/css?family=Lora:400,700|Work+Sans:300,400,600,700" rel="stylesheet">
  <script src='../template.js'></script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js"   integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="   crossorigin="anonymous"></script>
  <script src="https://unpkg.com/imagesloaded@4/imagesloaded.pkgd.min.js"></script>
  <script type="text/javascript">

    $(document).ready(function() {
      addTitle(13, "black", true);
    });

    var movePrince;
    var moveSeventh;
    var moveBroadway;

    $('#seventh').imagesLoaded(function() {

      setTimeout(function() {
        $("#seventh").scrollLeft(0);
        $("#prince").scrollLeft($("#prince").get(0).scrollWidth);
        $("#broadway").scrollLeft(0);
        // var seventhMax = $('#seventh').get(0).scrollWidth - $("#lastSeventh").width()*3-200;
        // var princeMax = $('#prince').get(0).scrollWidth - $("#lastPrince").width()*3-200;
        // var broadwayMax = $('#broadway').get(0).scrollWidth - $("#lastBroadway").width()*4-200;

        checkPos("#seventh", moveSeventh);
        checkPos("#prince", movePrince);
        checkPos("#broadway", moveBroadway);
      }, 1500);

    });


    function checkPos(classname, curInver) {
      setInterval(function() {
        var maxPosVar

        if (classname == '#seventh') {
          maxPosVar = $('#seventh').get(0).scrollWidth - $("#lastSeventh").width()*5-200;
        } else if (classname == "#prince") {
          maxPosVar = $('#prince').get(0).scrollWidth - $("#lastPrince").width()*3-200;
        } else if (classname == "#broadway") {
          maxPosVar = $('#broadway').get(0).scrollWidth - $("#lastBroadway").width()*6-200;
        }



        var curScrollPos = $(classname).scrollLeft();
        //console.log(classname, curScrollPos,maxPosVar);

        console.log(classname, curInver, curScrollPos, maxPosVar)
        console.log(curScrollPos >= maxPosVar)

        if (curScrollPos == 0) {
          clearInterval(curInver);
          //console.log(curScrollPos);
          curInver = moveAds(classname, 'right');
        } else if (curScrollPos >= maxPosVar) {
          clearInterval(curInver)
          //console.log(curScrollPos);
          curInver = moveAds(classname, 'left');
        }
      }, 150);
    }

    function moveAds(classname, dir) {
      //console.log(classname + " change direction");

      var interval;
      // clearInterval(moveScreen);
      if (dir == 'left') {
        interval = setInterval(function() {
          var curScrollPos = $(classname).scrollLeft();
          $(classname).scrollLeft(curScrollPos - 200);
        }, 50);
        return interval;
      } else if (dir == 'right') {
        interval = setInterval(function() {
          var curScrollPos = $(classname).scrollLeft();
          $(classname).scrollLeft(curScrollPos + 200);
        }, 50);
        return interval;
      }
    }
  </script>
</head>

<body>
  <!--<div id="sevLabel">
    <h3>Seventh Ave, B/Q</h3>
     <h2>January 23, 2018</h2>
  </div>-->
  <div id="seventh">
    <img src="img/seventh/seventh-001.jpg">
    <img src="img/seventh/seventh-002.jpg">
    <img src="img/seventh/seventh-003.jpg">
    <img src="img/seventh/seventh-004.jpg">
    <img src="img/seventh/seventh-005.jpg">
    <img src="img/seventh/seventh-006.jpg">
    <img src="img/seventh/seventh-007.jpg">
    <img src="img/seventh/seventh-008.jpg">
    <img src="img/seventh/seventh-009.jpg">
    <img src="img/seventh/seventh-010.jpg">
    <img src="img/seventh/seventh-011.jpg">
    <img src="img/seventh/seventh-012.jpg">
    <img src="img/seventh/seventh-013.jpg">
    <img src="img/seventh/seventh-014.jpg">
    <img src="img/seventh/seventh-015.jpg">
    <img src="img/seventh/seventh-016.jpg">
    <img src="img/seventh/seventh-017.jpg">
    <img src="img/seventh/seventh-018.jpg">
    <img src="img/seventh/seventh-019.jpg">
    <img src="img/seventh/seventh-020.jpg">
    <img src="img/seventh/seventh-021.jpg">
    <img src="img/seventh/seventh-022.jpg">
    <img src="img/seventh/seventh-023.jpg">
    <img src="img/seventh/seventh-024.jpg">
    <img src="img/seventh/seventh-025.jpg">
    <img src="img/seventh/seventh-026.jpg">
    <img src="img/seventh/seventh-027.jpg">
    <img src="img/seventh/seventh-028.jpg">
    <img src="img/seventh/seventh-029.jpg">
    <img src="img/seventh/seventh-030.jpg">
    <img src="img/seventh/seventh-031.jpg">
    <img src="img/seventh/seventh-032.jpg">
    <img src="img/seventh/seventh-033.jpg">
    <img src="img/seventh/seventh-034.jpg">
    <img src="img/seventh/seventh-035.jpg">
    <img src="img/seventh/seventh-036.jpg">
    <img src="img/seventh/seventh-037.jpg">
    <img src="img/seventh/seventh-038.jpg">
    <img src="img/seventh/seventh-039.jpg">
    <img src="img/seventh/seventh-040.jpg">
    <img src="img/seventh/seventh-041.jpg">
    <img src="img/seventh/seventh-042.jpg">
    <img src="img/seventh/seventh-043.jpg">
    <img src="img/seventh/seventh-044.jpg">
    <img src="img/seventh/seventh-045.jpg">
    <img src="img/seventh/seventh-046.jpg">
    <img src="img/seventh/seventh-047.jpg">
    <img src="img/seventh/seventh-048.jpg">
    <img src="img/seventh/seventh-049.jpg">
    <img src="img/seventh/seventh-050.jpg" id="lastSeventh">
  </div>
  <!-- <div id="princeLabel">
    <h3>Prince St, 6</h3>
    <h2>January 23, 2018</h2>
  </div> -->
  <div id="prince">
    <img src="img/prince/prince-001.jpg">
    <img src="img/prince/prince-002.jpg">
    <img src="img/prince/prince-003.jpg">
    <img src="img/prince/prince-004.jpg">
    <img src="img/prince/prince-005.jpg">
    <img src="img/prince/prince-006.jpg">
    <img src="img/prince/prince-007.jpg">
    <img src="img/prince/prince-008.jpg">
    <img src="img/prince/prince-009.jpg">
    <img src="img/prince/prince-010.jpg">
    <img src="img/prince/prince-011.jpg">
    <img src="img/prince/prince-012.jpg">
    <img src="img/prince/prince-013.jpg">
    <img src="img/prince/prince-014.jpg">
    <img src="img/prince/prince-015.jpg">
    <img src="img/prince/prince-016.jpg">
    <img src="img/prince/prince-017.jpg">
    <img src="img/prince/prince-018.jpg">
    <img src="img/prince/prince-019.jpg">
    <img src="img/prince/prince-020.jpg">
    <img src="img/prince/prince-021.jpg">
    <img src="img/prince/prince-022.jpg">
    <img src="img/prince/prince-023.jpg">
    <img src="img/prince/prince-024.jpg">
    <img src="img/prince/prince-025.jpg">
    <img src="img/prince/prince-026.jpg" id="lastPrince">
  </div>
  <!-- <div id="broadwayLabel">
    <h3>Broadway Lafayette, B/D/6</h3>
    <h2>January 23, 2018</h2>
  </div> -->
  <div id="broadway">
    <img src="img/broadway/broadway-001.jpg">
    <img src="img/broadway/broadway-002.jpg">
    <img src="img/broadway/broadway-003.jpg">
    <img src="img/broadway/broadway-004.jpg">
    <img src="img/broadway/broadway-005.jpg">
    <img src="img/broadway/broadway-006.jpg">
    <img src="img/broadway/broadway-007.jpg">
    <img src="img/broadway/broadway-008.jpg">
    <img src="img/broadway/broadway-009.jpg">
    <img src="img/broadway/broadway-010.jpg">
    <img src="img/broadway/broadway-011.jpg">
    <img src="img/broadway/broadway-012.jpg">
    <img src="img/broadway/broadway-013.jpg">
    <img src="img/broadway/broadway-014.jpg">
    <img src="img/broadway/broadway-015.jpg">
    <img src="img/broadway/broadway-016.jpg" id="lastBroadway">
  </div>
</body>

</html>
